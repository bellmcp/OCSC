{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/GitHub/OCSCE/src/Page/StepperForm.js\";\nimport React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Information from \"./Information\";\nimport Education from \"./Education\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ActivityWork from \"./ActivityWork\";\nimport Container from \"@material-ui/core/Container\";\nimport ContextWorks from \"./ContextWorks\";\nimport Summary from \"../components/Summary\";\nimport { useForm } from \"react-hook-form\";\nimport Data from \"../Data/contentData\";\nimport Question from \"../components/Question\";\nimport { StoreContext } from \"../Context/store\";\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  backButton: {\n    marginRight: theme.spacing(1)\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nfunction getSteps() {\n  return [\"ข้อมูลส่วนบุคคล\", \"ประวัติการศึกษา\", \"กิจกรรมการทำงาน\", \"บริบทการทำงาน\", \"สรุปผลประเมิน\"];\n}\n\nexport default function HorizontalLabelPositionBelowStepper() {\n  const classes = useStyles();\n  const [information, setInformation] = useState({\n    title: undefined,\n    firstName: undefined,\n    lastName: undefined,\n    idCard: undefined,\n    age: undefined,\n    gender: undefined\n  });\n  const [educations, setEducations] = React.useState({\n    educate: undefined,\n    majorName: undefined\n  });\n  const [values, setValues] = React.useState(Data);\n\n  const handleChange = (value, index) => {\n    const newArray = [...values];\n    newArray[index].value = value;\n    setValues(newArray);\n  };\n\n  const renderQuestions = () => {\n    return values.map((question, index) => {\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        xs: 12,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Question, {\n        index: index,\n        value: question.value,\n        header: question.header,\n        description: question.description,\n        handleChange: e => handleChange(e, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }));\n    });\n  };\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const validateID = id => {\n    if (!id.match(/^([0-9])+$/i)) {\n      alert(\"กรอกได้เฉพาะตัวเลขเท่านั้น\");\n      console.log(\"not number\");\n    }\n\n    if (id.length != 13) {\n      console.log(\"eror\");\n      throw \"too short\";\n    }\n\n    return true;\n  };\n\n  const validateFirstName = id => {\n    if (id.length > 99) {\n      console.log(\"eror\");\n      throw \"too long\";\n    }\n\n    return true;\n  };\n\n  const validateLastName = id => {\n    console.log(\"call validate\", information.lastName);\n\n    if (id.length > 3) {\n      console.log(\"eror\");\n      throw \"too long\";\n    }\n\n    return true;\n  };\n\n  const validateFirstStep = () => {\n    try {\n      // validateID();\n      // validateFirstName();\n      console.log(\"call validate First Step\", information.lastName);\n      validateLastName(information.lastName);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n\n  const onSubmit = data => {\n    console.log(\"call OnSubmit\", information.lastName);\n    validateFirstStep();\n  };\n\n  function getStepContent(stepIndex) {\n    console.log(information);\n    console.log(educations);\n    console.log(StoreContext);\n\n    switch (stepIndex) {\n      case 0:\n        return /*#__PURE__*/React.createElement(Information, {\n          data: information,\n          setInformation: setInformation,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 11\n          }\n        });\n\n      case 1:\n        return /*#__PURE__*/React.createElement(Education, {\n          data: educations,\n          setEducations: setEducations,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 16\n          }\n        });\n\n      case 2:\n        return /*#__PURE__*/React.createElement(ActivityWork, {\n          data: values,\n          setValues: setValues,\n          handleChange: handleChange,\n          renderQuestions: renderQuestions,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 11\n          }\n        });\n\n      case 3:\n        return /*#__PURE__*/React.createElement(ContextWorks, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 16\n          }\n        });\n\n      case 4:\n        return /*#__PURE__*/React.createElement(Summary, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 16\n          }\n        });\n\n      default:\n        return \"Unknown stepIndex\";\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Stepper, {\n    activeStep: activeStep,\n    alternativeLabel: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, steps.map(label => /*#__PURE__*/React.createElement(Step, {\n    key: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StepLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, label)))), /*#__PURE__*/React.createElement(Container, {\n    fixed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"center\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, activeStep === steps.length ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }, \"\\u0E2A\\u0E21\\u0E1A\\u0E39\\u0E23\\u0E13\\u0E4C\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, getStepContent(activeStep)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: activeStep === 0 || activeStep === 4,\n    onClick: handleBack,\n    className: classes.backButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 23\n    }\n  }, \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 23\n    }\n  }, activeStep === steps.length - 1 ? \"เสร็จสิ้น\" : \"ถัดไป\")))))))));\n}","map":{"version":3,"sources":["/Users/apple/Documents/GitHub/OCSCE/src/Page/StepperForm.js"],"names":["React","useState","useContext","makeStyles","Stepper","Step","StepLabel","Button","Typography","Information","Education","Grid","ActivityWork","Container","ContextWorks","Summary","useForm","Data","Question","StoreContext","useStyles","theme","root","backButton","marginRight","spacing","instructions","marginTop","marginBottom","getSteps","HorizontalLabelPositionBelowStepper","classes","information","setInformation","title","undefined","firstName","lastName","idCard","age","gender","educations","setEducations","educate","majorName","values","setValues","handleChange","value","index","newArray","renderQuestions","map","question","header","description","e","activeStep","setActiveStep","steps","handleNext","prevActiveStep","handleBack","validateID","id","match","alert","console","log","length","validateFirstName","validateLastName","validateFirstStep","error","onSubmit","data","getStepContent","stepIndex","label"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Information from \"./Information\";\nimport Education from \"./Education\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ActivityWork from \"./ActivityWork\";\nimport Container from \"@material-ui/core/Container\";\nimport ContextWorks from \"./ContextWorks\";\nimport Summary from \"../components/Summary\";\nimport { useForm } from \"react-hook-form\";\nimport Data from \"../Data/contentData\";\nimport Question from \"../components/Question\";\n\nimport { StoreContext } from \"../Context/store\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n}));\n\nfunction getSteps() {\n  return [\n    \"ข้อมูลส่วนบุคคล\",\n    \"ประวัติการศึกษา\",\n    \"กิจกรรมการทำงาน\",\n    \"บริบทการทำงาน\",\n    \"สรุปผลประเมิน\",\n  ];\n}\n\nexport default function HorizontalLabelPositionBelowStepper() {\n  const classes = useStyles();\n  const [information, setInformation] = useState({\n    title: undefined,\n    firstName: undefined,\n    lastName: undefined,\n    idCard: undefined,\n    age: undefined,\n    gender: undefined,\n  });\n\n  const [educations, setEducations] = React.useState({\n    educate: undefined,\n    majorName: undefined,\n  });\n\n  const [values, setValues] = React.useState(Data);\n\n  const handleChange = (value, index) => {\n    const newArray = [...values];\n    newArray[index].value = value;\n    setValues(newArray);\n  };\n\n  const renderQuestions = () => {\n    return values.map((question, index) => {\n      return (\n        <Grid container xs={12} key={index}>\n          <Question\n            index={index}\n            value={question.value}\n            header={question.header}\n            description={question.description}\n            handleChange={(e) => handleChange(e, index)}\n          />\n        </Grid>\n      );\n    });\n  };\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const validateID = (id) => {\n    if (!id.match(/^([0-9])+$/i)) {\n      alert(\"กรอกได้เฉพาะตัวเลขเท่านั้น\");\n      console.log(\"not number\");\n    }\n\n    if (id.length != 13) {\n      console.log(\"eror\");\n      throw \"too short\";\n    }\n    return true;\n  };\n\n  const validateFirstName = (id) => {\n    if (id.length > 99) {\n      console.log(\"eror\");\n      throw \"too long\";\n    }\n    return true;\n  };\n  const validateLastName = (id) => {\n    console.log(\"call validate\", information.lastName);\n    if (id.length > 3) {\n      console.log(\"eror\");\n      throw \"too long\";\n    }\n    return true;\n  };\n\n  const validateFirstStep = () => {\n    try {\n      // validateID();\n      // validateFirstName();\n      console.log(\"call validate First Step\", information.lastName);\n\n      validateLastName(information.lastName);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n\n  const onSubmit = (data) => {\n    console.log(\"call OnSubmit\", information.lastName);\n    validateFirstStep();\n  };\n\n  function getStepContent(stepIndex) {\n    console.log(information);\n    console.log(educations);\n    console.log(StoreContext);\n    switch (stepIndex) {\n      case 0:\n        return (\n          <Information data={information} setInformation={setInformation} />\n        );\n      case 1:\n        return <Education data={educations} setEducations={setEducations} />;\n      case 2:\n        return (\n          <ActivityWork\n            data={values}\n            setValues={setValues}\n            handleChange={handleChange}\n            renderQuestions={renderQuestions}\n          />\n        );\n      case 3:\n        return <ContextWorks />;\n      case 4:\n        return <Summary />;\n\n      default:\n        return \"Unknown stepIndex\";\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <form\n      //       onSubmit={activeStep === 0? informationForm.handleSubmit(onSubmit): educationsForm.handleSubmit(onSubmit)\n      //    }\n      >\n        <Stepper activeStep={activeStep} alternativeLabel>\n          {steps.map((label) => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n\n        <Container fixed>\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <div>\n              <div>\n                {activeStep === steps.length ? (\n                  <div>\n                    <Typography className={classes.instructions}>\n                      สมบูรณ์\n                    </Typography>\n                  </div>\n                ) : (\n                  <div>\n                    <Typography className={classes.instructions}>\n                      {getStepContent(activeStep)}\n                    </Typography>\n                    <div>\n                      <Button\n                        disabled={activeStep === 0 || activeStep === 4}\n                        onClick={handleBack}\n                        className={classes.backButton}\n                      >\n                        ย้อนกลับ\n                      </Button>\n                      <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleNext}\n                      >\n                        {activeStep === steps.length - 1\n                          ? \"เสร็จสิ้น\"\n                          : \"ถัดไป\"}\n                      </Button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </Grid>\n        </Container>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}