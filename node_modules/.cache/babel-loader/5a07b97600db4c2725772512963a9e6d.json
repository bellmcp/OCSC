{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/GitHub/OCSCE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/apple/Documents/GitHub/OCSCE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/apple/Documents/GitHub/OCSCE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/apple/Documents/GitHub/OCSCE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/apple/Documents/GitHub/OCSCE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState}from\"react\";import clsx from\"clsx\";import{makeStyles}from\"@material-ui/core/styles\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Drawer from\"@material-ui/core/Drawer\";import Box from\"@material-ui/core/Box\";import AppBar from\"@material-ui/core/AppBar\";import Toolbar from\"@material-ui/core/Toolbar\";import List from\"@material-ui/core/List\";import Divider from\"@material-ui/core/Divider\";import IconButton from\"@material-ui/core/IconButton\";import Container from\"@material-ui/core/Container\";import Grid from\"@material-ui/core/Grid\";import MenuIcon from\"@material-ui/icons/Menu\";import ChevronLeftIcon from\"@material-ui/icons/ChevronLeft\";import{mainListItems}from\"./listItems\";import Paper from\"@material-ui/core/Paper\";import AgeChart from\"../../Chart/AgeChart\";import EducationChart from\"../../Chart/EduChart\";import BrChart from\"../../Chart/BrChart\";import InputDate from\"../../component/admin/InputDate\";import GndrChart from\"../../Chart/GndrChart\";import\"../../index.css\";import get from\"../../service/getStatic\";import Modal from\"../../component/admin/Modals\";var drawerWidth=240;var useStyles=makeStyles(function(theme){return{root:{display:\"flex\"},toolbar:{paddingRight:24// keep right padding when drawer closed\n},toolbarIcon:_objectSpread({display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\",padding:\"0 8px\"},theme.mixins.toolbar),appBar:{zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:\"none\"},title:{flexGrow:1},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose:_defineProperty({overflowX:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),width:theme.spacing(7)},theme.breakpoints.up(\"sm\"),{width:theme.spacing(9)}),appBarSpacer:theme.mixins.toolbar,content:{flexGrow:1,height:\"100vh\",overflow:\"auto\"},container:{paddingTop:theme.spacing(4),paddingBottom:theme.spacing(4)},paper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\"},fixedHeight:{height:240}};});export default function Dashboard(){var classes=useStyles();var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};var fixedHeightPaper=clsx(classes.paper,classes.appBarSpacer);var today=new Date();var dd=String(today.getDate()).padStart(2,\"0\");var mm=String(today.getMonth()+1).padStart(2,\"0\");//January is 0!\nvar yyyy=today.getFullYear();today=mm+\"-\"+dd+\"-\"+yyyy;var _useState=useState({startdate:\"2020-01-01\",enddate:today}),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState({gender:[0,0],age:[0,0,0,0,0,0],education:[0,0,0,0,0,0,0,0,0,0,0,0,0],major:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),_useState4=_slicedToArray(_useState3,2),statistic=_useState4[0],setStatistic=_useState4[1];var _useState5=useState({status:200,fetch:true,text:\"ok\"}),_useState6=_slicedToArray(_useState5,2),stat=_useState6[0],setStatus=_useState6[1];var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,newStatus,newArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return get(date.startdate,date.enddate);case 2:result=_context.sent;newStatus=stat;if(result===404){newStatus.status=404;newStatus.text=\"หาไม่พบ\";setStatus(newStatus);}if(result===500){newStatus.status=500;newStatus.text=\"โปรแกรมผิดพลาด\";setStatus(newStatus);}if(result===999){newStatus.status=999;newStatus.text=\"เกิดความผิดพลาด\";setStatus(newStatus);}if(result!==404||result!==500||result!==501){newArray=statistic;newArray.gender=result.gndr;newArray.age=result.age;newArray.education=result.edu;newArray.major=result.maj;setStatistic(newArray);setStatistic(_objectSpread({},statistic));}case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref.apply(this,arguments);};}();var url=\"https://cubioinfo.com/aptitude-test/api/statistics/\"+date.startdate+\"/\"+date.enddate;return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(AppBar,{position:\"absolute\",color:\"primary\",className:clsx(classes.appBar,open&&classes.appBarShift)},/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},/*#__PURE__*/React.createElement(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"open drawer\",onClick:handleDrawerOpen,className:clsx(classes.menuButton,open&&classes.menuButtonHidden)},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(\"h5\",null,\"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E04\\u0E27\\u0E32\\u0E21\\u0E2A\\u0E19\\u0E43\\u0E08\\u0E02\\u0E2D\\u0E07\\u0E1A\\u0E38\\u0E04\\u0E04\\u0E25\\u0E17\\u0E35\\u0E48\\u0E21\\u0E35\\u0E15\\u0E48\\u0E2D\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19\\u0E23\\u0E32\\u0E0A\\u0E01\\u0E32\\u0E23\\u0E44\\u0E17\\u0E22\"))),/*#__PURE__*/React.createElement(Drawer,{variant:\"permanent\",classes:{paper:clsx(classes.drawerPaper,!open&&classes.drawerPaperClose)},open:open},/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbarIcon},/*#__PURE__*/React.createElement(IconButton,{onClick:handleDrawerClose},/*#__PURE__*/React.createElement(ChevronLeftIcon,null))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(List,null,mainListItems),/*#__PURE__*/React.createElement(Divider,null)),/*#__PURE__*/React.createElement(\"main\",{className:classes.content},/*#__PURE__*/React.createElement(\"div\",{className:classes.appBarSpacer}),/*#__PURE__*/React.createElement(Container,{maxWidth:\"lg\",className:classes.container},/*#__PURE__*/React.createElement(InputDate,{date:date,setDate:setDate,onSubmit:onSubmit}),stat.status===404||stat.status===500||stat.status===501?/*#__PURE__*/React.createElement(Modal,{status:stat.status,link:url}):\"\",stat.status===999?/*#__PURE__*/React.createElement(Modal,{status:\" failed to fetch\",link:\"Something happened in setting up the request and triggered an Error\"}):\"\",/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(Box,{p:2},stat.status===404||stat.status===500||stat.status===501?\"\":/*#__PURE__*/React.createElement(GndrChart,{gender:statistic})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(Box,{p:2},stat.status===404||stat.status===500||stat.status===501?\"\":/*#__PURE__*/React.createElement(AgeChart,{age:statistic})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(Box,{p:2},stat.status===404||stat.status===500||stat.status===501?\"\":/*#__PURE__*/React.createElement(EducationChart,{edu:statistic}))))),/*#__PURE__*/React.createElement(Box,{pt:4},/*#__PURE__*/React.createElement(Paper,{className:fixedHeightPaper},/*#__PURE__*/React.createElement(Box,{p:2,xs:12,lg:12},stat.status===404||stat.status===500||stat.status===501?\"\":/*#__PURE__*/React.createElement(BrChart,{br:statistic})))))));}","map":{"version":3,"sources":["/Users/apple/Documents/GitHub/OCSCE/src/Pages/admin/Report.js"],"names":["React","useState","clsx","makeStyles","CssBaseline","Drawer","Box","AppBar","Toolbar","List","Divider","IconButton","Container","Grid","MenuIcon","ChevronLeftIcon","mainListItems","Paper","AgeChart","EducationChart","BrChart","InputDate","GndrChart","get","Modal","drawerWidth","useStyles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","appBarSpacer","content","height","overflow","container","paddingTop","paddingBottom","paper","flexDirection","fixedHeight","Dashboard","classes","open","setOpen","handleDrawerOpen","handleDrawerClose","fixedHeightPaper","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","startdate","enddate","date","setDate","gender","age","education","major","statistic","setStatistic","status","fetch","text","stat","setStatus","onSubmit","result","newStatus","newArray","gndr","edu","maj","url"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Box from \"@material-ui/core/Box\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport { mainListItems } from \"./listItems\";\nimport Paper from \"@material-ui/core/Paper\";\nimport AgeChart from \"../../Chart/AgeChart\";\nimport EducationChart from \"../../Chart/EduChart\";\nimport BrChart from \"../../Chart/BrChart\";\nimport InputDate from \"../../component/admin/InputDate\";\nimport GndrChart from \"../../Chart/GndrChart\";\nimport \"../../index.css\";\nimport get from \"../../service/getStatic\";\nimport Modal from \"../../component/admin/Modals\";\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: \"100vh\",\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n  fixedHeight: {\n    height: 240,\n  },\n}));\n\nexport default function Dashboard() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  const fixedHeightPaper = clsx(classes.paper, classes.appBarSpacer);\n  var today = new Date();\n  var dd = String(today.getDate()).padStart(2, \"0\");\n  var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n  var yyyy = today.getFullYear();\n\n  today = mm + \"-\" + dd + \"-\" + yyyy;\n\n  const [date, setDate] = useState({\n    startdate: \"2020-01-01\",\n    enddate: today,\n  });\n  const [statistic, setStatistic] = useState({\n    gender: [0, 0],\n    age: [0, 0, 0, 0, 0, 0],\n    education: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    major: [\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n    ],\n  });\n  const [stat, setStatus] = useState({\n    status: 200,\n    fetch: true,\n    text: \"ok\",\n  });\n  const onSubmit = async () => {\n    const result = await get(date.startdate, date.enddate);\n    const newStatus = stat;\n\n    if (result === 404) {\n      newStatus.status = 404;\n      newStatus.text = \"หาไม่พบ\";\n      setStatus(newStatus);\n    }\n    if (result === 500) {\n      newStatus.status = 500;\n      newStatus.text = \"โปรแกรมผิดพลาด\";\n      setStatus(newStatus);\n    }\n    if (result === 999) {\n      newStatus.status = 999;\n      newStatus.text = \"เกิดความผิดพลาด\";\n      setStatus(newStatus);\n    }\n    if (result !== 404 || result !== 500 || result !== 501) {\n      const newArray = statistic;\n      newArray.gender = result.gndr;\n      newArray.age = result.age;\n      newArray.education = result.edu;\n      newArray.major = result.maj;\n      setStatistic(newArray);\n      setStatistic({ ...statistic });\n    }\n  };\n  const url =\n    \"https://cubioinfo.com/aptitude-test/api/statistics/\" +\n    date.startdate +\n    \"/\" +\n    date.enddate;\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        color=\"primary\"\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n      >\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(\n              classes.menuButton,\n              open && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <h5>ระบบประเมินความสนใจของบุคคลที่มีต่อหน่วยงานราชการไทย</h5>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>{mainListItems}</List>\n        <Divider />\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        <Container maxWidth=\"lg\" className={classes.container}>\n          <InputDate date={date} setDate={setDate} onSubmit={onSubmit} />\n          {stat.status === 404 || stat.status === 500 || stat.status === 501 ? (\n            <Modal status={stat.status} link={url} />\n          ) : (\n            \"\"\n          )}\n          {stat.status === 999 ? (\n            <Modal\n              status={\" failed to fetch\"}\n              link={\n                \"Something happened in setting up the request and triggered an Error\"\n              }\n            />\n          ) : (\n            \"\"\n          )}\n          <Grid container spacing={1}>\n            {/* Chart */}\n            <Grid item xs={12}>\n              <Paper>\n                <Box p={2}>\n                  {stat.status === 404 ||\n                  stat.status === 500 ||\n                  stat.status === 501 ? (\n                    \"\"\n                  ) : (\n                    <GndrChart gender={statistic} />\n                  )}\n                </Box>\n              </Paper>\n            </Grid>\n            {/* Recent Deposits */}\n            <Grid item xs={12}>\n              <Paper>\n                <Box p={2}>\n                  {stat.status === 404 ||\n                  stat.status === 500 ||\n                  stat.status === 501 ? (\n                    \"\"\n                  ) : (\n                    <AgeChart age={statistic} />\n                  )}\n                </Box>\n              </Paper>\n            </Grid>\n            {/* Recent Orders */}\n            <Grid item xs={12}>\n              <Paper>\n                <Box p={2}>\n                  {stat.status === 404 ||\n                  stat.status === 500 ||\n                  stat.status === 501 ? (\n                    \"\"\n                  ) : (\n                    <EducationChart edu={statistic} />\n                  )}\n                </Box>\n              </Paper>\n            </Grid>\n          </Grid>\n          <Box pt={4}>\n            <Paper className={fixedHeightPaper}>\n              <Box p={2} xs={12} lg={12}>\n                {stat.status === 404 ||\n                stat.status === 500 ||\n                stat.status === 501 ? (\n                  \"\"\n                ) : (\n                  <BrChart br={statistic} />\n                )}\n              </Box>\n            </Paper>\n          </Box>\n        </Container>\n      </main>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}